---
title: "01 Vectors and funtions"
output: 
  html_document:
    theme: dark
    highlight: zenburn
---

```{css, echo=FALSE}
.dark-output {
  background-color: #5a5a5a;
  color: white;
}

.error-output {
  background-color: #cc9393;
  color: black;
}
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE, class.output = "dark-output", class.error = "error-output"
  )
```

## Hot Dog Data

In these exercises, we will work with vectors some more. We will also learn to use functions in R.
For these exercises, I have some actual data for you: It's from [Nathan's Hotdog Eating Contest](https://nathansfamous.com/hot-dog-eating-contest/hall-of-fame/).
This is not the full data - we only look at the data of a few contestants for this example.
We'll look at bigger data sets in a second.

This is a vector containing the number of hot dogs the contestants ate in 2018:

```{r}
hotdog_2018 <- 
  c(37, 43, 32, 27, 74, 14, 28, 25, 27, 19, 24)
```

And these are the results of the same contestants in 2019:

```{r}
hotdog_2019 <- 
  c(31, 50, 26, 29, 71, 14, 26.5, 23, 27, 18, 22)
```

Here is another vector that contains their names:

```{r}
hotdog_names <- 
  c("Miki Sudo", "Darron Breeden", "Juan Rodriguez", "Juan Neave", "Joey Chestnut",
    "Sophia DeVita", "Michelle Lesco", "Juliet Lee", "Derek Jacobs", "Larell Marie Mele",
    "Steve Hendry")
```

Here are their genders:

```{r}
hotdog_genders <- 
  c("male", "female", "male", "male", "male", "female", "female", "female", "male", "female",
    "male")
```

## Some simple functions

We will now use some functions to work with this data. For example, we can find out how many
contestants we have by asking how long one of our vectors is (they should all have the same
length). Unsurprisingly, we can do that with the function `length()`.

```{r}
length(hotdog_names)
```

A function in `R` always comes with a `()`.
It takes **arguments** (i.e. we put something in) and **returns** something (i.e. gives us a result).
Here, `hotdog_names` is the argument, and `11` is the return value or **output**.

Try out a few other functions. Here are some you could try:

1.1) `max()` gives you the maximum value in a vector. What do you think `min()` does? Use both on `hotdog_2018` and `hotdog_2019`.

1.2) Use `table()` on `hotdog_genders`. What do you get?

1.3) Use `mean()` and `sd()` on `hotdog_2018` and `hotdog_2019`. What do you get?

1.4) Use `summary()` on `hotdog_2018` and `hotdog_2019`. What is the difference?

1.5) Use `head()` and `tail()` on either of the vectors. What do these functions do?

1.6) How many hotdogs were eaten in total in the year 2019? Use the function `sum()`.

## More arguments

Most functions take more than one argument.
For example, you can control the behaviour of `head()` and `tail()` with an additional argument.

2.1) Can you guess what the second argument in `head()` (and `tail()`) does?
What happens when you leave out the second argument?

```{r}
head(hotdog_names, 3)
head(hotdog_names, 1)
head(hotdog_names, 11)
head(hotdog_names)
```

2.2) What do you think will happen when the second argument is larger than the number of hot dog contestants (`r length(hotdog_names)`)? Try it.

We can see that arguments have a **position** in the function - for `head()`, the data belongs at the first position, and the number of elements we want to display comes second.
`head()` will be unhappy if we just switch the order around:

```{r error = TRUE}
head(10, hotdog_names)
```

The function expects some data at the first position, and an integer at the second position.
It is not "smart" it can't guess what we want.
(Also, in this case, guessing might be pretty easy, but in other cases, it's not so obvious what we actually want.)
However, you don't need to remember the order of arguments in a function (even though for simple functions, you automatically will at some point and use them that way).
You can also address arguments **by name**.
This way, `head()` understands what we want:

```{r}
head(n = 10, x = hotdog_names)
```

It is common in `R` that the data input of a function is simply called `x`.
That violates the rule to use self-explanatory names in good coding practice, but it is a convention that exists for ages.
We will discover more functions that take several arguments later.

In general, you can see which arguments a function takes by reading the documentation of that function.
Just type a question mark, and the the function name (without parentheses!), e.g. `?head`.
Often, the documentation is a bit overwhelming and gives you much more than you need.
In a lot of cases, you can just scroll down to the examples and see how the function should be used.

## Indexing

However, we would like to work with the data some more.

3.1) Think back about the mathematical operations with vectors. How can you find out how the contestants' performance increased/decreased from 2018 to 2019?

3.2) Remember logical comparisons. Can you create a vector that is `TRUE` when the participant ate more hot dogs in 2019 than in 2018 and `FALSE` when s/he didn't?

We now would like to find out **which** participants improved from 2018 to 2019.
We can achieve this using indices.
Logical vectors can be used as "filters" for data: They show only the elements where the logical index is `TRUE`.
See what happens here:

```{r}
numbers <- c(1, 2, 3, 4)
index <- c(TRUE, TRUE, FALSE, TRUE)
numbers[index]
```

```{r}
numbers <- c(1, 2, 3, 4)
index <- numbers < 3
numbers[index]
```

3.3) Based on these examples, how would you get the names of the contestants who ate more hot dogs in 2019 than in 2018?

3.4) Can you find the name of the contestant who ate exactly the same number of hot dogs in 2018 and 2019?

3.5) Get the number of hot dogs that **only the men** ate in 2019 and save the results in a variable. (Think of a good name!) Do the same for the women's results in 2018.

3.6) How would you get the name of the person who ate the most hot dogs in 2019? Use an index and the function `max()`!

3.7) Remember that you can combine using logical comparisons using `&` and `|`. Can you find a way to get the name of the woman who ate the most hot dogs in 2019 using `&` and `max()`?

**THIS IS A GIT PUSH CHECKPOINT!**
